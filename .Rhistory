pm <- read_excel("data/PestMgmt_AgEvidence.xlsx", sheet = "Results")
till <- read_excel("data/Tillage_AgEvidence.xlsx", sheet = "Results")
#### MANIPULATE DATA ####
# Create lists for filtering out
filtered_rv_units <- c("^#$", "(arcsine)", "log10")
filtered_finelevel_group <- c("knife_knife",
"unfertilized_plant",
"unfertilized_split",
"variable_variable",
"band_injection",
"injection_injection",
"placement_pointinjection_knifeinjection",
"surfaceband_belowsurface",
"split_preplantV6_plant_V6")
# Filter data files before data checking
cc <- cc  %>%
filter(!rv_units %in% filtered_rv_units)
nm <- nm  %>%
filter(!rv_units %in% filtered_rv_units) %>%
filter(!finelevel_group %in% filtered_finelevel_group)
till <- till %>%
filter(!rv_units %in% filtered_rv_units)
pm <- pm %>%
filter(!rv_units %in% filtered_rv_units)
#### NE RENAMING ####
ne <- ne.mods(ne)
#### GL1 RENAMING ####
cc <- cc %>%
mutate(review="Cover Crops")
till <- till %>%
mutate(
group_level1 =
ifelse(rv == "soil methane oxidation (CH4-C) in in April" | rv == "soil methane oxidation (CH4-C) in in August" |
rv == "water extractable organic carbon (0-5 cm)" | rv == "water extractable organic carbon (5-20 cm)" |
rv == "active carbon concentration" | rv == "maximum mineralizable soil carbon (Michaelis-Menten equation)" |
rv == "mineralizable soil carbon" | rv == "natural abundance of 13-C in soil (delta 13-C)" |
rv == "delta 13 C in soil" | rv == "eroded soil organic carbon stock (C3-C) in topsoil",
"Other Soil Properties",
group_level1)
)
cc <- cc %>%
mutate(
group_level1 =
ifelse(rv == "water extractable organic carbon (0-5 cm)" | rv == "water extractable organic carbon (5-20 cm)" |
rv == "active carbon concentration" | rv == "maximum mineralizable soil carbon (Michaelis-Menten equation)" |
rv == "mineralizable soil carbon" | rv == "natural abudance of 13-C in soil (delta 13-C)" | rv == "delta 13 C in soil",
"Other Soil Properties",
group_level1)
)
#### GL2 RENAMING ####
cc <- gl2.rename(cc)
till <- gl2.rename(till)
nm <- gl2.rename(nm)
pm <- gl2.rename(pm)
#### GL3 RENAMING ####
cc <- gl3.rename(cc)
till <- gl3.rename(till)
nm <- gl3.rename(nm)
pm <- gl3.rename(pm)
#### MARKDOWN FOR MEASURED VARIABLE AND UNITS ####
cc <- mkdown(cc)
View(cc)
source('processing-functions.R')
#### READ DATA ####
# Normative effects file
ne <- read_excel("data/normative-effects.xlsx")
# Data files
cc <- read_excel("data/Covercrops_AgEvidence.xlsx", sheet = "Results")
nm <- read_excel("data/NutrientMgmt_AgEvidence.xlsx", sheet = "Results")
pm <- read_excel("data/PestMgmt_AgEvidence.xlsx", sheet = "Results")
till <- read_excel("data/Tillage_AgEvidence.xlsx", sheet = "Results")
#### MANIPULATE DATA ####
# Create lists for filtering out
filtered_rv_units <- c("^#$", "(arcsine)", "log10")
filtered_finelevel_group <- c("knife_knife",
"unfertilized_plant",
"unfertilized_split",
"variable_variable",
"band_injection",
"injection_injection",
"placement_pointinjection_knifeinjection",
"surfaceband_belowsurface",
"split_preplantV6_plant_V6")
# Filter data files before data checking
cc <- cc  %>%
filter(!rv_units %in% filtered_rv_units)
nm <- nm  %>%
filter(!rv_units %in% filtered_rv_units) %>%
filter(!finelevel_group %in% filtered_finelevel_group)
till <- till %>%
filter(!rv_units %in% filtered_rv_units)
pm <- pm %>%
filter(!rv_units %in% filtered_rv_units)
#### NE RENAMING ####
ne <- ne.mods(ne)
#### GL1 RENAMING ####
cc <- cc %>%
mutate(review="Cover Crops")
till <- till %>%
mutate(
group_level1 =
ifelse(rv == "soil methane oxidation (CH4-C) in in April" | rv == "soil methane oxidation (CH4-C) in in August" |
rv == "water extractable organic carbon (0-5 cm)" | rv == "water extractable organic carbon (5-20 cm)" |
rv == "active carbon concentration" | rv == "maximum mineralizable soil carbon (Michaelis-Menten equation)" |
rv == "mineralizable soil carbon" | rv == "natural abundance of 13-C in soil (delta 13-C)" |
rv == "delta 13 C in soil" | rv == "eroded soil organic carbon stock (C3-C) in topsoil",
"Other Soil Properties",
group_level1)
)
cc <- cc %>%
mutate(
group_level1 =
ifelse(rv == "water extractable organic carbon (0-5 cm)" | rv == "water extractable organic carbon (5-20 cm)" |
rv == "active carbon concentration" | rv == "maximum mineralizable soil carbon (Michaelis-Menten equation)" |
rv == "mineralizable soil carbon" | rv == "natural abudance of 13-C in soil (delta 13-C)" | rv == "delta 13 C in soil",
"Other Soil Properties",
group_level1)
)
#### GL2 RENAMING ####
cc <- gl2.rename(cc)
till <- gl2.rename(till)
nm <- gl2.rename(nm)
pm <- gl2.rename(pm)
#### GL3 RENAMING ####
cc <- gl3.rename(cc)
till <- gl3.rename(till)
nm <- gl3.rename(nm)
pm <- gl3.rename(pm)
#### MARKDOWN FOR MEASURED VARIABLE AND UNITS ####
cc <- mkdown(cc)
View(cc)
till <- mkdown(till)
nm <- mkdown(nm)
View(nm)
View(cc)
View(till)
View(nm)
View(pm)
source('processing-functions.R')
#### READ DATA ####
# Normative effects file
ne <- read_excel("data/normative-effects.xlsx")
source('processing-functions.R')
source('processing-functions.R')
source('processing-functions.R')
source('processing-functions.R')
source('processing-functions.R')
#### READ DATA ####
# Normative effects file
ne <- read_excel("data/normative-effects.xlsx")
# Data files
cc <- read_excel("data/Covercrops_AgEvidence.xlsx", sheet = "Results")
nm <- read_excel("data/NutrientMgmt_AgEvidence.xlsx", sheet = "Results")
pm <- read_excel("data/PestMgmt_AgEvidence.xlsx", sheet = "Results")
till <- read_excel("data/Tillage_AgEvidence.xlsx", sheet = "Results")
#### MANIPULATE DATA ####
# Create lists for filtering out
filtered_rv_units <- c("^#$", "(arcsine)", "log10")
filtered_finelevel_group <- c("knife_knife",
"unfertilized_plant",
"unfertilized_split",
"variable_variable",
"band_injection",
"injection_injection",
"placement_pointinjection_knifeinjection",
"surfaceband_belowsurface",
"split_preplantV6_plant_V6")
# Filter data files before data checking
cc <- cc  %>%
filter(!rv_units %in% filtered_rv_units)
nm <- nm  %>%
filter(!rv_units %in% filtered_rv_units) %>%
filter(!finelevel_group %in% filtered_finelevel_group)
till <- till %>%
filter(!rv_units %in% filtered_rv_units)
pm <- pm %>%
filter(!rv_units %in% filtered_rv_units)
#### NE RENAMING ####
ne <- ne.mods(ne)
#### GL1 RENAMING ####
cc <- cc %>%
mutate(review="Cover Crops")
till <- till %>%
mutate(
group_level1 =
ifelse(rv == "soil methane oxidation (CH4-C) in in April" | rv == "soil methane oxidation (CH4-C) in in August" |
rv == "water extractable organic carbon (0-5 cm)" | rv == "water extractable organic carbon (5-20 cm)" |
rv == "active carbon concentration" | rv == "maximum mineralizable soil carbon (Michaelis-Menten equation)" |
rv == "mineralizable soil carbon" | rv == "natural abundance of 13-C in soil (delta 13-C)" |
rv == "delta 13 C in soil" | rv == "eroded soil organic carbon stock (C3-C) in topsoil",
"Other Soil Properties",
group_level1)
)
cc <- cc %>%
mutate(
group_level1 =
ifelse(rv == "water extractable organic carbon (0-5 cm)" | rv == "water extractable organic carbon (5-20 cm)" |
rv == "active carbon concentration" | rv == "maximum mineralizable soil carbon (Michaelis-Menten equation)" |
rv == "mineralizable soil carbon" | rv == "natural abudance of 13-C in soil (delta 13-C)" | rv == "delta 13 C in soil",
"Other Soil Properties",
group_level1)
)
#### GL2 RENAMING ####
cc <- gl2.rename(cc)
till <- gl2.rename(till)
nm <- gl2.rename(nm)
pm <- gl2.rename(pm)
#### GL3 RENAMING ####
cc <- gl3.rename(cc)
till <- gl3.rename(till)
nm <- gl3.rename(nm)
pm <- gl3.rename(pm)
#### MARKDOWN FOR MEASURED VARIABLE AND UNITS ####
cc <- mkdown(cc)
source('processing-functions.R')
#### READ DATA ####
# Normative effects file
ne <- read_excel("data/normative-effects.xlsx")
# Data files
cc <- read_excel("data/Covercrops_AgEvidence.xlsx", sheet = "Results")
nm <- read_excel("data/NutrientMgmt_AgEvidence.xlsx", sheet = "Results")
pm <- read_excel("data/PestMgmt_AgEvidence.xlsx", sheet = "Results")
till <- read_excel("data/Tillage_AgEvidence.xlsx", sheet = "Results")
#### MANIPULATE DATA ####
# Create lists for filtering out
filtered_rv_units <- c("^#$", "(arcsine)", "log10")
filtered_finelevel_group <- c("knife_knife",
"unfertilized_plant",
"unfertilized_split",
"variable_variable",
"band_injection",
"injection_injection",
"placement_pointinjection_knifeinjection",
"surfaceband_belowsurface",
"split_preplantV6_plant_V6")
# Filter data files before data checking
cc <- cc  %>%
filter(!rv_units %in% filtered_rv_units)
nm <- nm  %>%
filter(!rv_units %in% filtered_rv_units) %>%
filter(!finelevel_group %in% filtered_finelevel_group)
till <- till %>%
filter(!rv_units %in% filtered_rv_units)
pm <- pm %>%
filter(!rv_units %in% filtered_rv_units)
#### NE RENAMING ####
ne <- ne.mods(ne)
#### GL1 RENAMING ####
cc <- cc %>%
mutate(review="Cover Crops")
till <- till %>%
mutate(
group_level1 =
ifelse(rv == "soil methane oxidation (CH4-C) in in April" | rv == "soil methane oxidation (CH4-C) in in August" |
rv == "water extractable organic carbon (0-5 cm)" | rv == "water extractable organic carbon (5-20 cm)" |
rv == "active carbon concentration" | rv == "maximum mineralizable soil carbon (Michaelis-Menten equation)" |
rv == "mineralizable soil carbon" | rv == "natural abundance of 13-C in soil (delta 13-C)" |
rv == "delta 13 C in soil" | rv == "eroded soil organic carbon stock (C3-C) in topsoil",
"Other Soil Properties",
group_level1)
)
cc <- cc %>%
mutate(
group_level1 =
ifelse(rv == "water extractable organic carbon (0-5 cm)" | rv == "water extractable organic carbon (5-20 cm)" |
rv == "active carbon concentration" | rv == "maximum mineralizable soil carbon (Michaelis-Menten equation)" |
rv == "mineralizable soil carbon" | rv == "natural abudance of 13-C in soil (delta 13-C)" | rv == "delta 13 C in soil",
"Other Soil Properties",
group_level1)
)
#### GL2 RENAMING ####
cc <- gl2.rename(cc)
till <- gl2.rename(till)
nm <- gl2.rename(nm)
pm <- gl2.rename(pm)
#### GL3 RENAMING ####
cc <- gl3.rename(cc)
till <- gl3.rename(till)
nm <- gl3.rename(nm)
pm <- gl3.rename(pm)
#### MARKDOWN FOR MEASURED VARIABLE AND UNITS ####
cc <- mkdown(cc)
View(cc)
till <- mkdown(till)
View(till)
nm <- mkdown(nm)
pm <- mkdown(pm)
View(nm)
View(pm)
View(cc)
temp <- cc
temp$rv_units <- temp %>%
select(rv_units) %>% as_vector() %>%
str_replace_all(
c("^3"="^3^",
"^2"="^2^",
"^-1"="^-1^",
"^1/2"="^1/2^",
"CO2-C"="CO~2~-C",
"NO3-Nconc"="NO~3~-N~conc~",
"NO3-Nyield"="NO~3~-N~yield~",
"N2O-N"="N~2~O-N",
"micrograms N2O/g  soil/hr"="\\mugrams N~2~O/g",
"NO3-N"="NO~3~-N",
"CO2"="CO~2~",
"H2O"="H~2~O",
"# (log10(x+1))"="# (log~10~(x+1))",
"0/00"="\\text{\textperthousand}",
"theta"="\\theta",
"lambda"="\\lambda",
"alpha"="\\alpha",
"micro"="\\mu",
"delta-13C"="\\delta^13^C",
"CH4-C"="CH~4~-C",
"NH4-N"="NH~4~-N",
"NA"="",
"NH4"="NH~4~",
"NO3"="NO~3~",
"N2O"="N~2~O",
"CH4"="CH~4~"
)
)
View(temp)
temp$rv_units <- temp %>%
select(rv_units) %>% as_vector()
temp %>% select(rv_units) %>% as_vector()
temp$rv_units <- temp %>%
select(rv_units) %>% as_vector() %>%
str_replace_all(
c("^3"="^3^",
"^2"="^2^")
,
"^-1"="^-1^",
"^1/2"="^1/2^",
"CO2-C"="CO~2~-C",
"NO3-Nconc"="NO~3~-N~conc~",
"NO3-Nyield"="NO~3~-N~yield~",
"N2O-N"="N~2~O-N",
"micrograms N2O/g  soil/hr"="\\mugrams N~2~O/g",
"NO3-N"="NO~3~-N",
"CO2"="CO~2~",
"H2O"="H~2~O",
"# (log10(x+1))"="# (log~10~(x+1))",
"0/00"="\\text{\textperthousand}",
"theta"="\\theta",
"lambda"="\\lambda",
"alpha"="\\alpha",
"micro"="\\mu",
"delta-13C"="\\delta^13^C",
"CH4-C"="CH~4~-C",
"NH4-N"="NH~4~-N",
"NA"="",
"NH4"="NH~4~",
"NO3"="NO~3~",
"N2O"="N~2~O",
"CH4"="CH~4~"
)
temp$rv_units <- temp %>%
select(rv_units) %>% as_vector() %>%
str_replace_all(
c("^3"="^3^",
"^2"="^2^"))
View(temp)
temp$rv_units <- temp %>%
select(rv_units) %>% as_vector() %>%
str_replace_all(
c("cm^3"="cm^3^"))
View(temp)
temp <- cc
temp$'rv_units' <- temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("cm^3"="cm^3^"))
View(temp)
temp$'rv_units' <- temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("cm^3"="cm~3~"))
temp %>%
select('rv_units')
temp$'rv_units' <- temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("cm^3"="cm~3~"))
View(temp)
temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("cm^3"="XXXX")) %>% View()
temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("%"="XXXX")) %>% View()
temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("cm^3"="XXXX")) %>% View()
temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("//cm^3"="XXXX")) %>% View()
temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("/cm^3"="XXXX")) %>% View()
temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("^3"="XXXX")) %>% View()
temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("\\^3"="XXXX")) %>% View()
temp <- cc
temp$'rv_units' <- temp %>%
select('rv_units') %>% as_vector() %>%
str_replace_all(
c("\\^3"="^3^",
"\\^2"="^2^",
"\\^-1"="^-1^",
"\\^1/2"="^1/2^",
"CO2-C"="CO~2~-C",
"NO3-Nconc"="NO~3~-N~conc~",
"NO3-Nyield"="NO~3~-N~yield~",
"N2O-N"="N~2~O-N",
"micrograms N2O/g  soil/hr"="\\mugrams N~2~O/g",
"NO3-N"="NO~3~-N",
"CO2"="CO~2~",
"H2O"="H~2~O",
"# (log10(x+1))"="# (log~10~(x+1))",
"0/00"="\\text{\textperthousand}",
"theta"="\\theta",
"lambda"="\\lambda",
"alpha"="\\alpha",
"micro"="\\mu",
"delta-13C"="\\delta^13^C",
"CH4-C"="CH~4~-C",
"NH4-N"="NH~4~-N",
"NA"="",
"NH4"="NH~4~",
"NO3"="NO~3~",
"N2O"="N~2~O",
"CH4"="CH~4~"
)
)
View(temp)
source('processing-functions.R')
# Data files
cc <- read_excel("data/Covercrops_AgEvidence.xlsx", sheet = "Results")
nm <- read_excel("data/NutrientMgmt_AgEvidence.xlsx", sheet = "Results")
pm <- read_excel("data/PestMgmt_AgEvidence.xlsx", sheet = "Results")
till <- read_excel("data/Tillage_AgEvidence.xlsx", sheet = "Results")
#### MANIPULATE DATA ####
# Create lists for filtering out
filtered_rv_units <- c("^#$", "(arcsine)", "log10")
filtered_finelevel_group <- c("knife_knife",
"unfertilized_plant",
"unfertilized_split",
"variable_variable",
"band_injection",
"injection_injection",
"placement_pointinjection_knifeinjection",
"surfaceband_belowsurface",
"split_preplantV6_plant_V6")
# Filter data files before data checking
cc <- cc  %>%
filter(!rv_units %in% filtered_rv_units)
nm <- nm  %>%
filter(!rv_units %in% filtered_rv_units) %>%
filter(!finelevel_group %in% filtered_finelevel_group)
till <- till %>%
filter(!rv_units %in% filtered_rv_units)
pm <- pm %>%
filter(!rv_units %in% filtered_rv_units)
#### NE RENAMING ####
ne <- ne.mods(ne)
#### GL1 RENAMING ####
cc <- cc %>%
mutate(review="Cover Crops")
till <- till %>%
mutate(
group_level1 =
ifelse(rv == "soil methane oxidation (CH4-C) in in April" | rv == "soil methane oxidation (CH4-C) in in August" |
rv == "water extractable organic carbon (0-5 cm)" | rv == "water extractable organic carbon (5-20 cm)" |
rv == "active carbon concentration" | rv == "maximum mineralizable soil carbon (Michaelis-Menten equation)" |
rv == "mineralizable soil carbon" | rv == "natural abundance of 13-C in soil (delta 13-C)" |
rv == "delta 13 C in soil" | rv == "eroded soil organic carbon stock (C3-C) in topsoil",
"Other Soil Properties",
group_level1)
)
cc <- cc %>%
mutate(
group_level1 =
ifelse(rv == "water extractable organic carbon (0-5 cm)" | rv == "water extractable organic carbon (5-20 cm)" |
rv == "active carbon concentration" | rv == "maximum mineralizable soil carbon (Michaelis-Menten equation)" |
rv == "mineralizable soil carbon" | rv == "natural abudance of 13-C in soil (delta 13-C)" | rv == "delta 13 C in soil",
"Other Soil Properties",
group_level1)
)
#### GL2 RENAMING ####
cc <- gl2.rename(cc)
till <- gl2.rename(till)
nm <- gl2.rename(nm)
pm <- gl2.rename(pm)
#### GL3 RENAMING ####
cc <- gl3.rename(cc)
till <- gl3.rename(till)
nm <- gl3.rename(nm)
pm <- gl3.rename(pm)
#### MARKDOWN FOR MEASURED VARIABLE AND UNITS ####
cc <- mkdown(cc)
View(cc)
